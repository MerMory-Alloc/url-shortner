# URL Shortener Project Documentation

## Overview

The URL Shortener project here is my solution for the freecodecamp challenge as a part of the "Back End Development and APIs course" also for "Coding Challenges By John Crickett" comprising a frontend built with Next.js and a backend API. This documentation outlines the architectural design, the flow of the application, and the deployment process on Kubernetes.

### Frontend (Next.js)

The frontend is designed using Next.js, a React-based framework, and is responsible for providing a user-friendly interface for URL shortening. It consists of two main parts:

#### Client-Side Rendered components
- **Form:** This component allows users to input long URLs that they wish to shorten.
- **List:** Displays a list of shortened URLs generated by the user on his browser(the saveed in the local storage).

#### Server-Side Action
- The server-side of the Next.js app includes an action triggered by the form. This action sends an API call to the backend API for URL shortening.

### Backend API

The backend API handles the core functionality of the URL shortener. It is responsible for:

- Generating short URLs using the `uuid` library, creating unique 7-character strings.
- Storing URL data in MongoDB Atlas, a cloud-based MongoDB database, utilizing a schema with fields for `original_url` and `short_url`.
- Redirecting users from the shortened link (`{domain-name}/api/shorturl/{shorturl}`) to the original URL.

## Application Flow

1. **User Interaction:**
   - Users interact with the client-side rendering of the Next.js app, entering long URLs into the form.

2. **Server-Side Action:**
   - Upon submitting the form, a server-side action is triggered to send an API call to the backend API.

3. **Backend Processing:**
   - The backend API generates a short URL and stores it in the database.

4. **Response to Client:**
   - The server responds to the server action with the generated short URL and then returns the short URL to the client and added to the local storage.

5. **User Access:**
   - Users can access the shortened URL, leading to a redirection to the original URL.

## Deployment to Kubernetes

For deploying the URL Shortener project to Kubernetes, the following steps are involved after accessing the k8s_files folder and having a kubernetes up and runing:


1. **add your mongodb uri:**
   - add the uri link of your mongodb to the secret file under the stringData section. you can follow this guide [here](https://www.mongodb.com/docs/manual/reference/connection-string/) to get the uri link.

2. **Apply Kubernetes files:**
   ```bash
   kubectl apply -f .
   ```
and now  the apps are deployed and runing.

[kubernetes architecture](kubernetesArchi.png)